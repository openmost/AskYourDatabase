{% extends 'dashboard.twig' %}

    {% block content %}

        <style>
            .top_controls {
                display: none;
            }

            #root {
                margin-bottom: 0;
            }

            #pageFooter {
                display: none;
            }

            #ask-your-database-output {
                margin-top: 1.125rem;
                width: 100%;
                height: 800px;
                max-height: calc(100vh - 100px);
            }
        </style>

        <iframe id="ask-your-database-output" src="" width="100%" height="800" loading="lazy">
            Please provide credentials in the Matomo admin area
        </iframe>

        <script>
            document.addEventListener('DOMContentLoaded', function () {
                let iframe = document.getElementById('ask-your-database-output');

                ajaxHelper.fetch({
                    method: "AskYourDatabase.getIframeUrl",
                })
                .then((response) => {
                    iframe.src = response.url;
                });
            });
        </script>
    {% endblock %}
